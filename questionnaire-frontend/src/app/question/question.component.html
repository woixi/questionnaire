<h1 class="text-center">{{questionAnswer.question.question}}</h1>

<form [formGroup]="questionForm" (submit)="submitForm($event)" *ngIf="isQuestion">
    <div class="form-group">
      <label for="inputName" class="username">Your name:</label>
      <input type="text" class="form-control" [ngClass]="{'is-invalid': questionForm.get('username').invalid, 'is-valid': !questionForm.get('username').invalid}" id="inputName" placeholder="Enter your name" formControlName="username">
    </div>
    <div class="mt-3 mb-3">
        <div class="form-check form-check-inline" *ngFor="let answer of questionAnswer.question.answers; let i = index;">
            <input class="form-check-input" type="radio" name="answer" id="answerRadio{{i}}" [value]="answer" [checked]="false" (change)="changeAnswer(i)">
            <label class="form-check-label" for="answerRadio{{i}}">{{answer}}</label>
        </div>
    </div>
    <div class="text-right">
      <button class="btn btn-success">SUBMIT</button>
    </div>
</form>

<h2>Results</h2>
<table class="table table-bordered table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th *ngFor="let choise of choises">{{choise}}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let answer of questionAnswer.answers; let i = index">
      <td>{{ answer.username }}</td>
      <td *ngFor="let choise of choises; let c = index">
        {{ c === answer.answer ? 'x' : '' }}
      </td>
    </tr>
  </tbody>
</table>

<div class="text-right">
  <button class="btn btn-secondary" routerLink="/">Return to home</button>
</div>
